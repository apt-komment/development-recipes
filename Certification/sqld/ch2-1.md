# PART 2. SQL 기본 및 활용

## Ch01. SQL 기본

## I. 관계형 데이터베이스 개요

> ### 관계형 데이터베이스

- 관계형 데이터 모델에 기초를 둔 DB
- 2차원 테이블 형식
- RDBMS: RDB를 관리, 감독하기 위한 시스템

> ### SQL

- RDB에서 데이터를 다루기 위해 사용하는 언어
- 성능을 위해 SQL을 잘 작성하고 튜닝하는 것이 매우 중요

## II. SELECT 문

> ### SELECT

- 저장돼 있는 데이터를 조회하고자 할 때 사용하는 명령어
- Alias를 설정한 경우, 테이블명 대신 반드시 Alias를 사용해야 함

> ### 산술 연산자

→ 연산에 NULL을 포함하면 결과는 NULL

| 연산자 |            의미            | 우선순위 |
| :----: | :------------------------: | :------: |
|   ()   |    괄호로 우선순위 조정    |    1     |
|   \*   |            곱셈            |    2     |
|   /    | 나눗셈 (0으로 나누면 에러) |    2     |
|   +    |            덧셈            |    3     |
|   -    |            뺄셈            |    3     |
|   %    | 나머지 (0으로 나누면 NULL) |    3     |

> ### 합성 연산자

- 문자와 문자를 연결할 때 사용하는 연산자
- `||`

## III. 함수

> ### 문자 함수

**_1. CHR(ASCII 코드)_**

**_2. LOWER(문자열)_**

**_3. UPPER(문자열)_**

**_4. LTRIM(문자열[, 특정 문자])_**

**_5. RTRIM(문자열[, 특정 문자])_**

**_6. TRIM([위치] [특정 문자] [FROM] 문자열)_**

**_7. SUBSTR(문자열, 시작점[, 길이])_**

**_8. LENGTH(문자열)_**

**_9. REPLACE(문자열, 변경 전 문자열[, 변경 후 문자열])_**

**_10. LPAD(문자열, 길이, 문자)_**

> ### 숫자 함수

**_1. ABS(수)_**

> ### 날짜 함수

> ### 변환 함수

> ### NULL 관련 함수

## IV. WHERE 절

> ### 비교 연산자

| 연산자 |    의미     |
| :----: | :---------: |
|   =    |    같음     |
|   <    |    작음     |
|   >    |     큼      |
|   <=   | 작거나 같음 |
|   >=   | 크거나 같음 |

> ### 부정 비교 연산자

|    연산자    |   의미    |
| :----------: | :-------: |
|      !=      | 같지 않음 |
|      ^=      | 같지 않음 |
|      <>      | 같지 않음 |
| not 컬럼명 = | 같지 않음 |
| not 컬럼명 > | 크지 않음 |

> ### SQL 연산자

- BETWEEN A AND B
  - A <= 속성값 <= B
- LIKE
  - `%`: 문자열
  - `_`: 하나의 문자
- IN
  - 리스트 중 일치
- IS NULL
  - NULL 인지 확인

> ### 논리 연산자

- AND
  - 모든 조건 TRUE
- OR
  - 하나 이상 조건 TRUE
- NOT
  - TRUE이면 FALSE, FALSE이면 TRUE

## V. GROUP BY, HAVING 절

> ### GROUP BY

- 그룹별로 묶을 수 있게 해줌

> ### 집계 함수

- COUNT(\*)
  - 전체 ROW 카운트
- COUNT(컬럼)
  - 컬럼값이 NULL이 아닌 ROW 카운트
- COUNT(DISTINCT 컬럼)
  - 컬럼값이 NULL이 아닌 ROW를 중복 없이 카운트
- SUM(컬럼)
- AVG(컬럼)
- MIN(컬럼)
- MAX(컬럼)

> ### HAVING

- GROUP BY 절을 사용할 때 WHERE 절처럼 사용하는 조건절

## VI. ORDER BY 절

- 정렬을 하기 위해 사용

## VII. JOIN

> ### JOIN 이란?

- 각기 다른 두 개의 테이블을 합할 때 사용
- PK나 FK 없이도 가능

> ### EQUI JOIN

- Equal 조건으로 JOIN

> ### Non EQUI JOIN

- Equal이 아닌 다른 조건(BETWEEN, >, >=, <, <=)으로 JOIN

> ### OUTER JOIN

- 조건에 만족하지 않은 행들도 출력하는 JOIN
- 테이블의 반대편 테이블의 옆에 `(+)` 기호를 붙임

## VIII. STANDARD JOIN

- 벤더와 상관없이 돌아감

> ### INNER JOIN

- JOIN 조건에 충족하는 데이터만 출력되는 JOIN 방식

> ### OUTER JOIN

**_1. LEFT OUTER JOIN_**

- JOIN 조건에 관계없이 `왼쪽 테이블의 데이터는 모두 출력`되는 JOIN 방식
- 오른쪽 테이블에 JOIN 되는 데이터가 없는 ROW들은 NULL로 출력

**_2. RIGHT OUTER JOIN_**

- JOIN 조건에 관계없이 `오른쪽 테이블의 데이터는 모두 출력`되는 JOIN 방식
- 왼쪽 테이블에 JOIN 되는 데이터가 없는 ROW들은 NULL로 출력

**_3. FULL OUTER JOIN_**

- 왼쪽, 오른쪽 테이블의 데이터가 `모두 출력`되는 JOIN 방식

> ### NATURAL JOIN

- 테이블 A와 테이블 B에서 같은 이름을 가진 컬럼들이 `모두 동일한 데이터`를 가지고 있을 경우 JOIN이 되는 방식

> ### CROSS JOIN

- 테이블 A와 테이블 B가 JOIN 조건이 없는 경우, 조합할 수 있는 모든 경우를 출력하는 JOIN 방식
